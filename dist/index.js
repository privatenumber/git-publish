#!/usr/bin/env node
"use strict";var qD=Object.defineProperty;var i=(u,D)=>qD(u,"name",{value:D,configurable:!0});var B=require("node:path"),j=require("node:fs/promises"),YD=require("node:os"),O=require("node:process"),zD=require("node:util"),Mu=require("node:url"),VD=require("node:child_process"),lu=require("node:events"),_u=require("node:stream/promises"),HD=require("node:readline/promises"),cu=require("os"),Iu=require("stream"),Lu=require("tty"),JD=require("node:fs"),ZD=require("tar-fs"),KD=require("gunzip-maybe");function QD(u){var D=Object.create(null);return u&&Object.keys(u).forEach(function(e){if(e!=="default"){var t=Object.getOwnPropertyDescriptor(u,e);Object.defineProperty(D,e,t.get?t:{enumerable:!0,get:i(function(){return u[e]},"get")})}}),D.default=u,Object.freeze(D)}i(QD,"_interopNamespaceDefault");var XD=QD(HD);const ue=i(u=>({start:O.hrtime.bigint(),command:u.map(D=>De(zD.stripVTControlCharacters(D))).join(" "),state:{stdout:"",stderr:"",output:""}}),"getContext"),De=i(u=>/[^\w./-]/.test(u)?`'${u.replaceAll("'","'\\''")}'`:u,"getCommandPart"),ee=i(({stdin:u,stdout:D,stderr:e,stdio:t=[u,D,e],env:r,preferLocal:o,cwd:n=".",...a})=>{const s=n instanceof URL?Mu.fileURLToPath(n):B.resolve(n),l=r?{...O.env,...r}:void 0,F=t[0]?.string;return{...a,input:F,stdio:F===void 0?t:["pipe",...t.slice(1)],env:o?te(l??O.env,s):l,cwd:s}},"getOptions"),te=i(({Path:u="",PATH:D=u,...e},t)=>{const r=D.split(B.delimiter),o=ju([],B.resolve(t)).map(n=>B.join(n,"node_modules/.bin")).filter(n=>!r.includes(n));return{...e,PATH:[...o,D].filter(Boolean).join(B.delimiter)}},"addLocalPath"),ju=i((u,D)=>u.at(-1)===D?u:ju([...u,D],B.resolve(D,"..")),"getLocalPaths"),re=i(async(u,D,e)=>await oe(u,e)?[Fu(u),D.map(t=>le(t)),{...e,shell:!0}]:[u,D,e],"applyForceShell"),oe=i(async(u,{shell:D,cwd:e,env:t=O.env})=>O.platform==="win32"&&!D&&!await ne(u,e,t),"shouldForceShell"),ne=i((u,D,{Path:e="",PATH:t=e})=>Nu.some(r=>u.toLowerCase().endsWith(r))||se(u,D,t),"isExe"),ie={},Pu=i(u=>(...D)=>ie[D.join("\0")]??=u(...D),"memoize"),ae=Pu(j.access),se=Pu(async(u,D,e)=>{const t=e.split(B.delimiter).filter(Boolean).map(r=>r.replace(/^"(.*)"$/,"$1"));try{await Promise.any([D,...t].flatMap(r=>Nu.map(o=>ae(`${B.resolve(r,u)}${o}`))))}catch{return!1}return!0}),Nu=[".exe",".com"],le=i(u=>Fu(Fu(`"${u.replaceAll(/(\\*)"/g,'$1$1\\"').replace(/(\\*)$/,"$1$1")}"`)),"escapeArgument"),Fu=i(u=>u.replaceAll(/([()\][%!^"`<>&|;, *?])/g,"^$1"),"escapeFile"),ce=i(async(u,{input:D},e)=>{const t=await u;D!==void 0&&t.stdin.end(D);const r=lu.once(t,"close");try{return await Promise.race([r,...t.stdio.filter(Boolean).map(o=>Fe(o))]),Ce(e,Gu(t)),Uu(e)}catch(o){throw await Promise.allSettled([r]),Wu(o,t,e)}},"getResult"),Fe=i(async u=>{for await(const[D]of lu.on(u,"error"))if(!["ERR_STREAM_PREMATURE_CLOSE","EPIPE"].includes(D?.code))throw D},"onStreamError"),Ce=i(({command:u},{exitCode:D,signalName:e})=>{if(e!==void 0)throw new K(`Command was terminated with ${e}: ${u}`);if(D!==void 0)throw new K(`Command failed with exit code ${D}: ${u}`)},"checkFailure"),Wu=i((u,D,e)=>Object.assign(Ee(u,e),Gu(D),Uu(e)),"getResultError"),Ee=i((u,{command:D})=>u instanceof K?u:new K(`Command failed: ${D}`,{cause:u}),"getErrorInstance");class K extends Error{static{i(this,"SubprocessError")}name="SubprocessError"}const Gu=i(({exitCode:u,signalCode:D})=>({...u<1?{}:{exitCode:u},...D===null?{}:{signalName:D}}),"getErrorOutput"),Uu=i(({state:{stdout:u,stderr:D,output:e},command:t,start:r})=>({stdout:Cu(u),stderr:Cu(D),output:Cu(e),command:t,durationMs:Number(O.hrtime.bigint()-r)/1e6}),"getOutputs"),Cu=i(u=>u.at(-1)===`
`?u.slice(0,u.at(-2)==="\r"?-2:-1):u,"getOutput"),pe=i(async(u,D,e,t)=>{try{["node","node.exe"].includes(u.toLowerCase())&&(u=O.execPath,D=[...O.execArgv.filter(o=>!o.startsWith("--inspect")),...D]),[u,D,e]=await re(u,D,e),[u,D,e]=fe(u,D,e);const r=VD.spawn(u,D,e);return qu(r.stdout,t,"stdout"),qu(r.stderr,t,"stderr"),r.once("error",()=>{}),await lu.once(r,"spawn"),r}catch(r){throw Wu(r,{},t)}},"spawnSubprocess"),fe=i((u,D,e)=>e.shell&&D.length>0?[[u,...D].join(" "),[],e]:[u,D,e],"concatenateShell"),qu=i((u,{state:D},e)=>{u&&(u.setEncoding("utf8"),D.isIterating||(D.isIterating=!1,u.on("data",t=>{D[e]+=t,D.output+=t})))},"bufferOutput"),de=i(async u=>{const[[D,e]]=await Promise.all([Promise.allSettled(u),ge(u)]);if(e.reason)throw e.reason.pipedFrom=D.reason??D.value,e.reason;if(D.reason)throw D.reason;return{...e.value,pipedFrom:D.value}},"handlePipe"),ge=i(async u=>{try{const[{stdout:D},{stdin:e}]=await Promise.all(u.map(({nodeChildProcess:t})=>t));if(e===null)throw new Error('The "stdin" option must be set on the first "spawn()" call in the pipeline.');if(D===null)throw new Error('The "stdout" option must be set on the last "spawn()" call in the pipeline.');_u.pipeline(D,e).catch(()=>{})}catch(D){throw await Promise.allSettled(u.map(({nodeChildProcess:e})=>he(e))),D}},"pipeStreams"),he=i(async u=>{const{stdin:D}=await u;D.end()},"closeStdin"),Yu=i(async function*(u,{state:D},e){if(D.isIterating===!1)throw new Error(`The subprocess must be iterated right away, for example:
	for await (const line of spawn(...)) { ... }`);D.isIterating=!0;try{const{[e]:t}=await u.nodeChildProcess;if(!t)return;yield*XD.createInterface({input:t})}finally{await u}},"lineIterator"),me=i(async function*(...u){try{let D=[];for(;u.length>0;){D=u.map((n,a)=>D[a]??Be(n));const[{value:e,done:t},r]=await Promise.race(D.map((n,a)=>Promise.all([n,a]))),[o]=u.splice(r,1);D.splice(r,1),t||(u.push(o),yield e)}}finally{await Promise.all(u.map(D=>D.return()))}},"combineAsyncIterators"),Be=i(async u=>{try{return await u.next()}catch(D){await u.throw(D)}},"getNext");function A(u,D,e,t){const[r=[],o={}]=Array.isArray(D)?[D,e]:[[],D],n=ue([u,...r]),a=ee(o),s=pe(u,r,a,n);let l=ce(s,a,n);Object.assign(l,{nodeChildProcess:s}),l=t?de([t,l]):l;const F=Yu(l,n,"stdout"),c=Yu(l,n,"stderr");return Object.assign(l,{nodeChildProcess:s,stdout:F,stderr:c,[Symbol.asyncIterator]:()=>me(F,c),pipe:i((C,E,d)=>A(C,E,d,l),"pipe")})}i(A,"spawn");var we=Object.defineProperty,f=i((u,D)=>we(u,"name",{value:D,configurable:!0}),"s");function zu(u,D=1,e={}){const{indent:t=" ",includeEmptyLines:r=!1}=e;if(typeof u!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof u}\``);if(typeof D!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof D}\``);if(D<0)throw new RangeError(`Expected \`count\` to be at least 0, got \`${D}\``);if(typeof t!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof t}\``);if(D===0)return u;const o=r?/^/gm:/^(?!\s*$)/gm;return u.replace(o,t.repeat(D))}i(zu,"ee"),f(zu,"indentString");function Vu(u){if(typeof u!="string")throw new TypeError("Expected a string");return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}i(Vu,"te"),f(Vu,"escapeStringRegexp");const Hu=/\s+at.*[(\s](.*)\)?/,be=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/,ye=typeof cu.homedir>"u"?"":cu.homedir().replace(/\\/g,"/");function Ju(u,{pretty:D=!1,basePath:e}={}){const t=e&&new RegExp(`(at | \\()${Vu(e.replace(/\\/g,"/"))}`,"g");if(typeof u=="string")return u.replace(/\\/g,"/").split(`
`).filter(r=>{const o=r.match(Hu);if(o===null||!o[1])return!0;const n=o[1];return n.includes(".app/Contents/Resources/electron.asar")||n.includes(".app/Contents/Resources/default_app.asar")||n.includes("node_modules/electron/dist/resources/electron.asar")||n.includes("node_modules/electron/dist/resources/default_app.asar")?!1:!be.test(n)}).filter(r=>r.trim()!=="").map(r=>(t&&(r=r.replace(t,"$1")),D&&(r=r.replace(Hu,(o,n)=>o.replace(n,n.replace(ye,"~")))),r)).join(`
`)}i(Ju,"oe"),f(Ju,"cleanStack");var Ae=Object.defineProperty,Zu=f(u=>{throw TypeError(u)},"__typeError"),ve=f((u,D,e)=>D in u?Ae(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,"__defNormalProp"),$e=f((u,D,e)=>ve(u,D+"",e),"__publicField"),Ku=f((u,D,e)=>D.has(u)||Zu("Cannot "+e),"__accessCheck"),Oe=f((u,D,e)=>(Ku(u,D,"read from private field"),e?e.call(u):D.get(u)),"__privateGet"),Re=f((u,D,e)=>D.has(u)?Zu("Cannot add the same private member more than once"):D instanceof WeakSet?D.add(u):D.set(u,e),"__privateAdd"),Te=f((u,D,e,t)=>(Ku(u,D,"write to private field"),D.set(u,e),e),"__privateSet"),Q;const Se=f(u=>u.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),"cleanInternalStack"),Qu=class extends Error{static{i(this,"A2")}constructor(D){if(!Array.isArray(D))throw new TypeError(`Expected input to be an Array, got ${typeof D}`);D=D.map(t=>t instanceof Error?t:t!==null&&typeof t=="object"?Object.assign(new Error(t.message),t):new Error(t));let e=D.map(t=>typeof t.stack=="string"&&t.stack.length>0?Se(Ju(t.stack)):String(t)).join(`
`);e=`
`+zu(e,4),super(e),Re(this,Q),$e(this,"name","AggregateError"),Te(this,Q,D)}get errors(){return Oe(this,Q).slice()}};f(Qu,"AggregateError");let ke=Qu;Q=new WeakMap;const Xu=class extends Error{static{i(this,"F2")}constructor(D){super(),this.name="AbortError",this.message=D}};f(Xu,"AbortError");let xe=Xu;const uD=f(u=>globalThis.DOMException===void 0?new xe(u):new DOMException(u),"getDOMException"),DD=f(u=>{const D=u.reason===void 0?uD("This operation was aborted."):u.reason;return D instanceof Error?D:uD(D)},"getAbortedReason");async function eD(u,D,{concurrency:e=Number.POSITIVE_INFINITY,stopOnError:t=!0,signal:r}={}){return new Promise((o,n)=>{if(u[Symbol.iterator]===void 0&&u[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof u})`);if(typeof D!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(e)||e===Number.POSITIVE_INFINITY)&&e>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${e}\` (${typeof e})`);const a=[],s=[],l=new Map;let F=!1,c=!1,C=!1,E=0,d=0;const b=u[Symbol.iterator]===void 0?u[Symbol.asyncIterator]():u[Symbol.iterator](),w=f(g=>{F=!0,c=!0,n(g)},"reject");r&&(r.aborted&&w(DD(r)),r.addEventListener("abort",()=>{w(DD(r))}));const p=f(async()=>{if(c)return;const g=await b.next(),h=d;if(d++,g.done){if(C=!0,E===0&&!c){if(!t&&s.length>0){w(new ke(s));return}if(c=!0,l.size===0){o(a);return}const v=[];for(const[$,R]of a.entries())l.get($)!==tD&&v.push(R);o(v)}return}E++,(async()=>{try{const v=await g.value;if(c)return;const $=await D(v,h);$===tD&&l.set(h,$),a[h]=$,E--,await p()}catch(v){if(t)w(v);else{s.push(v),E--;try{await p()}catch($){w($)}}}})()},"next");(async()=>{for(let g=0;g<e;g++){try{await p()}catch(h){w(h);break}if(C||F)break}})()})}i(eD,"pe"),f(eD,"pMap");const tD=Symbol("skip"),rD=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];let Eu={};const Me=f(u=>{const D=new Iu.PassThrough,e=new Iu.PassThrough;D.write=r=>{u("stdout",r)},e.write=r=>{u("stderr",r)};const t=new console.Console(D,e);for(const r of rD)Eu[r]=console[r],console[r]=t[r];return()=>{for(const r of rD)console[r]=Eu[r];Eu={}}},"patchConsole"),oD=["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"],m={HIDE_CURSOR:"\x1B[?25l",SHOW_CURSOR:"\x1B[?25h",MOVE_UP:"\x1B[1A",CLEAR_LINE:"\x1B[2K",COLOR_GREEN:"\x1B[32m",COLOR_CYAN:"\x1B[36m",COLOR_RED:"\x1B[31m",COLOR_YELLOW:"\x1B[33m",STYLE_DIM:"\x1B[90m",RESET_FOREGROUND:"\x1B[39m"},X=!!(process.env.CI||process.env.CONTINUOUS_INTEGRATION||process.env.BUILD_NUMBER),_e=f(u=>process.env.NO_COLOR||process.env.NODE_DISABLE_COLORS?!1:u.hasColors?u.hasColors():process.env.FORCE_COLOR!==void 0?process.env.FORCE_COLOR!=="0":u.isTTY!==!1,"detectColors"),x=f((u,D,e)=>u?`${D}${e}${m.RESET_FOREGROUND}`:e,"colorize"),nD=f(u=>{for(const D of u)if(D.state==="loading"||D.state==="pending"||D.children&&D.children.length>0&&!nD(D.children))return!1;return!0},"areAllTasksDone"),Ie=f((u,D=process.stdout)=>{let e=0,t,r,o="",n=0,a;const s=D.isTTY!==!1,l=_e(D),F=f((p,g)=>p==="pending"?x(l,m.STYLE_DIM,"\u25FC"):p==="loading"?g?x(l,m.COLOR_YELLOW,"\u276F"):x(l,m.COLOR_CYAN,oD[e]):p==="success"?g?x(l,m.COLOR_YELLOW,"\u276F"):x(l,m.COLOR_GREEN,"\u2714"):p==="error"?g?x(l,m.COLOR_RED,"\u276F"):x(l,m.COLOR_RED,"\u2716"):p==="warning"?x(l,m.COLOR_YELLOW,"\u26A0"):x(l,m.STYLE_DIM,"\u25FC"),"getIcon"),c=f((p,g)=>{const h="  ".repeat(g),v=p.children&&p.children.length>0,$=F(p.state,v);let R=`${h}${$} ${p.title}`;if(p.status&&(R+=` [${p.status}]`),R+=`
`,p.output){const J=`${h}  `,Z=f(_=>l?`${m.STYLE_DIM}${_}${m.RESET_FOREGROUND}`:_,"styleText");R+=p.output.split(`
`).map((_,k)=>`${J}${Z(k===0?`\u2192 ${_}`:_)}`).join(`
`)+`
`}return v&&(R+=C(p.children,g+1)),R},"renderTask"),C=f((p,g=0)=>p.map(h=>c(h,g)).join(""),"renderTaskList"),E=f((p,g)=>{if(n>0){for(let h=0;h<n;h+=1)D.write(m.MOVE_UP),D.write(m.CLEAR_LINE);n=0}D.write(g),d()},"handleConsoleOutput"),d=f(()=>{const p=C(u);if(nD(u)&&t&&(clearInterval(t),t=void 0),X){p!==o&&(D.write(p),o=p);return}if(n>0)for(let g=0;g<n;g+=1)D.write(m.MOVE_UP),D.write(m.CLEAR_LINE);D.write(p),o=p,n=p.split(`
`).length-1},"render"),b=f(()=>{r||(r=setTimeout(()=>{r=void 0,d()},33))},"scheduleRender"),w=f(()=>{if(t&&clearInterval(t),r&&clearTimeout(r),a&&a(),!X&&s&&n>0)for(let p=0;p<n;p+=1)D.write(m.MOVE_UP),D.write(m.CLEAR_LINE);!X&&s&&D.write(m.SHOW_CURSOR)},"destroy");return!X&&s&&(D.write(m.HIDE_CURSOR),t=setInterval(()=>{e=(e+1)%oD.length,b()},80),a=Me(E)),b(),{triggerRender:b,destroy:w}},"createRenderer");let pu;const Le=f(u=>{pu=u},"setRenderCallback"),je=f(u=>new Proxy(u,{set(D,e,t){return Reflect.set(D,e,t),pu&&pu(),!0}}),"reactive"),fu=Symbol("run"),Pe=f(u=>{const D={task:du(u.children),setTitle(e){u.title=e},setStatus(e){u.status=e},setOutput(e){u.output=typeof e=="string"?e:"message"in e?e.message:""},setWarning(e){u.state="warning",e!==void 0&&D.setOutput(e)},setError(e){u.state="error",e!==void 0&&D.setOutput(e)}};return D},"createTaskInnerApi");let M;const iD=f((u,D,e)=>{M||(M=Ie(u),Le(()=>M.triggerRender()),u.isRoot=!0);const t=je({title:D,state:"pending",children:[]});return u.push(t),{task:t,[fu]:async()=>{const r=Pe(t);t.state="loading";let o;try{o=await e(r)}catch(n){throw r.setError(n),n}return t.state==="loading"&&(t.state="success"),o},clear:f(()=>{const r=u.indexOf(t);r!==-1&&u.splice(r,1),M&&M.triggerRender(),u.isRoot&&u.length===0&&M&&(M.destroy(),M=void 0)},"clear")}},"registerTask");function du(u){const D=f(async(e,t)=>{const r=iD(u,e,t);return{result:await r[fu](),get state(){return r.task.state},clear:r.clear}},"task");return D.group=async(e,t)=>{const r=e((n,a)=>iD(u,n,a)),o=await eD(r,async n=>({result:await n[fu](),get state(){return n.task.state},clear:n.clear}),{concurrency:1,...t});return Object.assign(o,{clear:f(()=>{for(const n of r)n.clear()},"clear")})},D}i(du,"K$2"),f(du,"createTaskFunction");const Ne=[];var We=du(Ne);const Ge="known-flag",Ue="unknown-flag",qe="argument",{stringify:q}=JSON,Ye=/\B([A-Z])/g,ze=i(u=>u.replace(Ye,"-$1").toLowerCase(),"v$1"),{hasOwnProperty:Ve}=Object.prototype,Y=i((u,D)=>Ve.call(u,D),"w$2"),He=i(u=>Array.isArray(u),"L$2"),aD=i(u=>typeof u=="function"?[u,!1]:He(u)?[u[0],!0]:aD(u.type),"b$2"),Je=i((u,D)=>u===Boolean?D!=="false":D,"d$2"),Ze=i((u,D)=>typeof D=="boolean"?D:u===Number&&D===""?Number.NaN:u(D),"m$1"),Ke=/[\s.:=]/,Qe=i(u=>{const D=`Flag name ${q(u)}`;if(u.length===0)throw new Error(`${D} cannot be empty`);if(u.length===1)throw new Error(`${D} must be longer than a character`);const e=u.match(Ke);if(e)throw new Error(`${D} cannot contain ${q(e?.[0])}`)},"B"),Xe=i(u=>{const D={},e=i((t,r)=>{if(Y(D,t))throw new Error(`Duplicate flags named ${q(t)}`);D[t]=r},"r");for(const t in u){if(!Y(u,t))continue;Qe(t);const r=u[t],o=[[],...aD(r),r];e(t,o);const n=ze(t);if(t!==n&&e(n,o),"alias"in r&&typeof r.alias=="string"){const{alias:a}=r,s=`Flag alias ${q(a)} for flag ${q(t)}`;if(a.length===0)throw new Error(`${s} cannot be empty`);if(a.length>1)throw new Error(`${s} must be a single character`);e(a,o)}}return D},"K$1"),ut=i((u,D)=>{const e={};for(const t in u){if(!Y(u,t))continue;const[r,,o,n]=D[t];if(r.length===0&&"default"in n){let{default:a}=n;typeof a=="function"&&(a=a()),e[t]=a}else e[t]=o?r:r.pop()}return e},"_$2"),uu="--",Dt=/[.:=]/,et=/^-{1,2}\w/,tt=i(u=>{if(!et.test(u))return;const D=!u.startsWith(uu);let e=u.slice(D?1:2),t;const r=e.match(Dt);if(r){const{index:o}=r;t=e.slice(o+1),e=e.slice(0,o)}return[e,t,D]},"N"),rt=i((u,{onFlag:D,onArgument:e})=>{let t;const r=i((o,n)=>{if(typeof t!="function")return!0;t(o,n),t=void 0},"o");for(let o=0;o<u.length;o+=1){const n=u[o];if(n===uu){r();const s=u.slice(o+1);e?.(s,[o],!0);break}const a=tt(n);if(a){if(r(),!D)continue;const[s,l,F]=a;if(F)for(let c=0;c<s.length;c+=1){r();const C=c===s.length-1;t=D(s[c],C?l:void 0,[o,c+1,C])}else t=D(s,l,[o])}else r(n,[o])&&e?.([n],[o])}r()},"$$1"),ot=i((u,D)=>{for(const[e,t,r]of D.reverse()){if(t){const o=u[e];let n=o.slice(0,t);if(r||(n+=o.slice(t+1)),n!=="-"){u[e]=n;continue}}u.splice(e,1)}},"E"),nt=i((u,D=process.argv.slice(2),{ignore:e}={})=>{const t=[],r=Xe(u),o={},n=[];return n[uu]=[],rt(D,{onFlag(a,s,l){const F=Y(r,a);if(!e?.(F?Ge:Ue,a,s)){if(F){const[c,C]=r[a],E=Je(C,s),d=i((b,w)=>{t.push(l),w&&t.push(w),c.push(Ze(C,b||""))},"p");return E===void 0?d:d(E)}Y(o,a)||(o[a]=[]),o[a].push(s===void 0?!0:s),t.push(l)}},onArgument(a,s,l){e?.(qe,D[s[0]])||(n.push(...a),l?(n[uu]=a,D.splice(s[0])):t.push(s))}}),ot(D,t),{flags:ut(u,r),unknownFlags:o,_:n}},"U$2");var it=Object.create,Du=Object.defineProperty,at=Object.defineProperties,st=Object.getOwnPropertyDescriptor,lt=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertyNames,sD=Object.getOwnPropertySymbols,Ft=Object.getPrototypeOf,lD=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,cD=i((u,D,e)=>D in u?Du(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,"W$1"),eu=i((u,D)=>{for(var e in D||(D={}))lD.call(D,e)&&cD(u,e,D[e]);if(sD)for(var e of sD(D))Ct.call(D,e)&&cD(u,e,D[e]);return u},"p"),gu=i((u,D)=>at(u,lt(D)),"c"),Et=i(u=>Du(u,"__esModule",{value:!0}),"nD"),pt=i((u,D)=>()=>(u&&(D=u(u=0)),D),"rD"),ft=i((u,D)=>()=>(D||u((D={exports:{}}).exports,D),D.exports),"iD"),dt=i((u,D,e,t)=>{if(D&&typeof D=="object"||typeof D=="function")for(let r of ct(D))!lD.call(u,r)&&r!=="default"&&Du(u,r,{get:i(()=>D[r],"get"),enumerable:!(t=st(D,r))||t.enumerable});return u},"oD"),gt=i((u,D)=>dt(Et(Du(u!=null?it(Ft(u)):{},"default",{value:u,enumerable:!0})),u),"BD"),y=pt(()=>{}),ht=ft((u,D)=>{y(),D.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});y(),y(),y();var mt=i(u=>{var D,e,t;let r=(D=process.stdout.columns)!=null?D:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(r)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:r}:{columns:(e=u.columns)!=null?e:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:r}},"v");y(),y(),y(),y(),y();function Bt({onlyFirst:u=!1}={}){let D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}i(Bt,"w$1");function FD(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Bt(),"")}i(FD,"d$1"),y();function wt(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}i(wt,"y$1");var bt=gt(ht());function P(u){if(typeof u!="string"||u.length===0||(u=FD(u),u.length===0))return 0;u=u.replace((0,bt.default)(),"  ");let D=0;for(let e=0;e<u.length;e++){let t=u.codePointAt(e);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&e++,D+=wt(t)?2:1)}return D}i(P,"g");var CD=i(u=>Math.max(...u.split(`
`).map(P)),"b$1"),yt=i(u=>{let D=[];for(let e of u){let{length:t}=e,r=t-D.length;for(let o=0;o<r;o+=1)D.push(0);for(let o=0;o<t;o+=1){let n=CD(e[o]);n>D[o]&&(D[o]=n)}}return D},"k$1");y();var ED=/^\d+%$/,pD={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},At=i((u,D)=>{var e;let t=[];for(let r=0;r<u.length;r+=1){let o=(e=D[r])!=null?e:"auto";if(typeof o=="number"||o==="auto"||o==="content-width"||typeof o=="string"&&ED.test(o)){t.push(gu(eu({},pD),{width:o,contentWidth:u[r]}));continue}if(o&&typeof o=="object"){let n=gu(eu(eu({},pD),o),{contentWidth:u[r]});n.horizontalPadding=n.paddingLeft+n.paddingRight,t.push(n);continue}throw new Error(`Invalid column width: ${JSON.stringify(o)}`)}return t},"sD");function vt(u,D){for(let e of u){let{width:t}=e;if(t==="content-width"&&(e.width=e.contentWidth),t==="auto"){let s=Math.min(20,e.contentWidth);e.width=s,e.autoOverflow=e.contentWidth-s}if(typeof t=="string"&&ED.test(t)){let s=Number.parseFloat(t.slice(0,-1))/100;e.width=Math.floor(D*s)-(e.paddingLeft+e.paddingRight)}let{horizontalPadding:r}=e,o=1,n=o+r;if(n>=D){let s=n-D,l=Math.ceil(e.paddingLeft/r*s),F=s-l;e.paddingLeft-=l,e.paddingRight-=F,e.horizontalPadding=e.paddingLeft+e.paddingRight}e.paddingLeftString=e.paddingLeft?" ".repeat(e.paddingLeft):"",e.paddingRightString=e.paddingRight?" ".repeat(e.paddingRight):"";let a=D-e.horizontalPadding;e.width=Math.max(Math.min(e.width,a),o)}}i(vt,"aD");var fD=i(()=>Object.assign([],{columns:0}),"G");function $t(u,D){let e=[fD()],[t]=e;for(let r of u){let o=r.width+r.horizontalPadding;t.columns+o>D&&(t=fD(),e.push(t)),t.push(r),t.columns+=o}for(let r of e){let o=r.reduce((C,E)=>C+E.width+E.horizontalPadding,0),n=D-o;if(n===0)continue;let a=r.filter(C=>"autoOverflow"in C),s=a.filter(C=>C.autoOverflow>0),l=s.reduce((C,E)=>C+E.autoOverflow,0),F=Math.min(l,n);for(let C of s){let E=Math.floor(C.autoOverflow/l*F);C.width+=E,n-=E}let c=Math.floor(n/a.length);for(let C=0;C<a.length;C+=1){let E=a[C];C===a.length-1?E.width+=n:E.width+=c,n-=c}}return e}i($t,"lD");function Ot(u,D,e){let t=At(e,D);return vt(t,u),$t(t,u)}i(Ot,"Z$1"),y(),y(),y();var hu=10,dD=i((u=0)=>D=>`\x1B[${D+u}m`,"U$1"),gD=i((u=0)=>D=>`\x1B[${38+u};5;${D}m`,"V$1"),hD=i((u=0)=>(D,e,t)=>`\x1B[${38+u};2;${D};${e};${t}m`,"Y");function Rt(){let u=new Map,D={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};D.color.gray=D.color.blackBright,D.bgColor.bgGray=D.bgColor.bgBlackBright,D.color.grey=D.color.blackBright,D.bgColor.bgGrey=D.bgColor.bgBlackBright;for(let[e,t]of Object.entries(D)){for(let[r,o]of Object.entries(t))D[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},t[r]=D[r],u.set(o[0],o[1]);Object.defineProperty(D,e,{value:t,enumerable:!1})}return Object.defineProperty(D,"codes",{value:u,enumerable:!1}),D.color.close="\x1B[39m",D.bgColor.close="\x1B[49m",D.color.ansi=dD(),D.color.ansi256=gD(),D.color.ansi16m=hD(),D.bgColor.ansi=dD(hu),D.bgColor.ansi256=gD(hu),D.bgColor.ansi16m=hD(hu),Object.defineProperties(D,{rgbToAnsi256:{value:i((e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),"value"),enumerable:!1},hexToRgb:{value:i(e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;r.length===3&&(r=r.split("").map(n=>n+n).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},"value"),enumerable:!1},hexToAnsi256:{value:i(e=>D.rgbToAnsi256(...D.hexToRgb(e)),"value"),enumerable:!1},ansi256ToAnsi:{value:i(e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,r,o;if(e>=232)t=((e-232)*10+8)/255,r=t,o=t;else{e-=16;let s=e%36;t=Math.floor(e/36)/5,r=Math.floor(s/6)/5,o=s%6/5}let n=Math.max(t,r,o)*2;if(n===0)return 30;let a=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return n===2&&(a+=60),a},"value"),enumerable:!1},rgbToAnsi:{value:i((e,t,r)=>D.ansi256ToAnsi(D.rgbToAnsi256(e,t,r)),"value"),enumerable:!1},hexToAnsi:{value:i(e=>D.ansi256ToAnsi(D.hexToAnsi256(e)),"value"),enumerable:!1}}),D}i(Rt,"AD");var Tt=Rt(),St=Tt,tu=new Set(["\x1B","\x9B"]),kt=39,mu="\x07",mD="[",xt="]",BD="m",Bu=`${xt}8;;`,wD=i(u=>`${tu.values().next().value}${mD}${u}${BD}`,"J$1"),bD=i(u=>`${tu.values().next().value}${Bu}${u}${mu}`,"Q"),Mt=i(u=>u.split(" ").map(D=>P(D)),"hD"),wu=i((u,D,e)=>{let t=[...D],r=!1,o=!1,n=P(FD(u[u.length-1]));for(let[a,s]of t.entries()){let l=P(s);if(n+l<=e?u[u.length-1]+=s:(u.push(s),n=0),tu.has(s)&&(r=!0,o=t.slice(a+1).join("").startsWith(Bu)),r){o?s===mu&&(r=!1,o=!1):s===BD&&(r=!1);continue}n+=l,n===e&&a<t.length-1&&(u.push(""),n=0)}!n&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},"S"),_t=i(u=>{let D=u.split(" "),e=D.length;for(;e>0&&!(P(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},"cD"),It=i((u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let t="",r,o,n=Mt(u),a=[""];for(let[l,F]of u.split(" ").entries()){e.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let c=P(a[a.length-1]);if(l!==0&&(c>=D&&(e.wordWrap===!1||e.trim===!1)&&(a.push(""),c=0),(c>0||e.trim===!1)&&(a[a.length-1]+=" ",c++)),e.hard&&n[l]>D){let C=D-c,E=1+Math.floor((n[l]-C-1)/D);Math.floor((n[l]-1)/D)<E&&a.push(""),wu(a,F,D);continue}if(c+n[l]>D&&c>0&&n[l]>0){if(e.wordWrap===!1&&c<D){wu(a,F,D);continue}a.push("")}if(c+n[l]>D&&e.wordWrap===!1){wu(a,F,D);continue}a[a.length-1]+=F}e.trim!==!1&&(a=a.map(l=>_t(l)));let s=[...a.join(`
`)];for(let[l,F]of s.entries()){if(t+=F,tu.has(F)){let{groups:C}=new RegExp(`(?:\\${mD}(?<code>\\d+)m|\\${Bu}(?<uri>.*)${mu})`).exec(s.slice(l).join(""))||{groups:{}};if(C.code!==void 0){let E=Number.parseFloat(C.code);r=E===kt?void 0:E}else C.uri!==void 0&&(o=C.uri.length===0?void 0:C.uri)}let c=St.codes.get(Number(r));s[l+1]===`
`?(o&&(t+=bD("")),r&&c&&(t+=wD(c))):F===`
`&&(r&&c&&(t+=wD(r)),o&&(t+=bD(o)))}return t},"dD");function Lt(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>It(t,D,e)).join(`
`)}i(Lt,"T$1");var yD=i(u=>Array.from({length:u}).fill(""),"X");function jt(u,D){let e=[],t=0;for(let r of u){let o=0,n=r.map(s=>{var l;let F=(l=D[t])!=null?l:"";t+=1,s.preprocess&&(F=s.preprocess(F)),CD(F)>s.width&&(F=Lt(F,s.width,{hard:!0}));let c=F.split(`
`);if(s.postprocess){let{postprocess:C}=s;c=c.map((E,d)=>C.call(s,E,d))}return s.paddingTop&&c.unshift(...yD(s.paddingTop)),s.paddingBottom&&c.push(...yD(s.paddingBottom)),c.length>o&&(o=c.length),gu(eu({},s),{lines:c})}),a=[];for(let s=0;s<o;s+=1){let l=n.map(F=>{var c;let C=(c=F.lines[s])!=null?c:"",E=Number.isFinite(F.width)?" ".repeat(F.width-P(C)):"",d=F.paddingLeftString;return F.align==="right"&&(d+=E),d+=C,F.align==="left"&&(d+=E),d+F.paddingRightString}).join("");a.push(l)}e.push(a.join(`
`))}return e.join(`
`)}i(jt,"P$1");function Pt(u,D){if(!u||u.length===0)return"";let e=yt(u),t=e.length;if(t===0)return"";let{stdoutColumns:r,columns:o}=mt(D);if(o.length>t)throw new Error(`${o.length} columns defined, but only ${t} columns found`);let n=Ot(r,o,e);return u.map(a=>jt(n,a)).join(`
`)}i(Pt,"mD"),y();var Nt=["<",">","=",">=","<="];function Wt(u){if(!Nt.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}i(Wt,"xD");function Gt(u){let D=Object.keys(u).map(e=>{let[t,r]=e.split(" ");Wt(t);let o=Number.parseInt(r,10);if(Number.isNaN(o))throw new TypeError(`Invalid breakpoint value: ${r}`);let n=u[e];return{operator:t,breakpoint:o,value:n}}).sort((e,t)=>t.breakpoint-e.breakpoint);return e=>{var t;return(t=D.find(({operator:r,breakpoint:o})=>r==="="&&e===o||r===">"&&e>o||r==="<"&&e<o||r===">="&&e>=o||r==="<="&&e<=o))==null?void 0:t.value}}i(Gt,"wD");const Ut=i(u=>u.replace(/[\W_]([a-z\d])?/gi,(D,e)=>e?e.toUpperCase():""),"P"),qt=i(u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),"q"),Yt={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:i(u=>u.trim(),"preprocess")},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function zt(u){let D=!1;return{type:"table",data:{tableData:Object.keys(u).sort((e,t)=>e.localeCompare(t)).map(e=>{const t=u[e],r="alias"in t;return r&&(D=!0),{name:e,flag:t,flagFormatted:`--${qt(e)}`,aliasesEnabled:D,aliasFormatted:r?`-${t.alias}`:void 0}}).map(e=>(e.aliasesEnabled=D,[{type:"flagName",data:e},{type:"flagDescription",data:e}])),tableBreakpoints:Yt}}}i(zt,"D");const AD=i(u=>!u||(u.version??(u.help?u.help.version:void 0)),"A"),vD=i(u=>{const D="parent"in u&&u.parent?.name;return(D?`${D} `:"")+u.name},"C");function Vt(u){const D=[];u.name&&D.push(vD(u));const e=AD(u)??("parent"in u&&AD(u.parent));if(e&&D.push(`v${e}`),D.length!==0)return{id:"name",type:"text",data:`${D.join(" ")}
`}}i(Vt,"R");function Ht(u){const{help:D}=u;if(!(!D||!D.description))return{id:"description",type:"text",data:`${D.description}
`}}i(Ht,"L");function Jt(u){const D=u.help||{};if("usage"in D)return D.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(D.usage)?D.usage.join(`
`):D.usage}}:void 0;if(u.name){const e=[],t=[vD(u)];if(u.flags&&Object.keys(u.flags).length>0&&t.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:r}=u,o=r.indexOf("--"),n=o>-1&&r.slice(o+1).some(a=>a.startsWith("<"));t.push(r.map(a=>a!=="--"?a:n?"--":"[--]").join(" "))}if(t.length>1&&e.push(t.join(" ")),"commands"in u&&u.commands?.length&&e.push(`${u.name} <command>`),e.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:e.join(`
`)}}}}i(Jt,"T");function Zt(u){return!("commands"in u)||!u.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(D=>[D.options.name,D.options.help?D.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}i(Zt,"_");function Kt(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:zt(u.flags),indentBody:0}}}i(Kt,"k");function Qt(u){const{help:D}=u;if(!D||!D.examples||D.examples.length===0)return;let{examples:e}=D;if(Array.isArray(e)&&(e=e.join(`
`)),e)return{id:"examples",type:"section",data:{title:"Examples:",body:e}}}i(Qt,"F");function Xt(u){if(!("alias"in u)||!u.alias)return;const{alias:D}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(D)?D.join(", "):D}}}i(Xt,"H");const ur=i(u=>[Vt,Ht,Jt,Zt,Kt,Qt,Xt].map(D=>D(u)).filter(Boolean),"U"),Dr=Lu.WriteStream.prototype.hasColors();class er{static{i(this,"J")}text(D){return D}bold(D){return Dr?`\x1B[1m${D}\x1B[22m`:D.toLocaleUpperCase()}indentText({text:D,spaces:e}){return D.replace(/^/gm," ".repeat(e))}heading(D){return this.bold(D)}section({title:D,body:e,indentBody:t=2}){return`${(D?`${this.heading(D)}
`:"")+(e?this.indentText({text:this.render(e),spaces:t}):"")}
`}table({tableData:D,tableOptions:e,tableBreakpoints:t}){return Pt(D.map(r=>r.map(o=>this.render(o))),t?Gt(t):e)}flagParameter(D){return D===Boolean?"":D===String?"<string>":D===Number?"<number>":Array.isArray(D)?this.flagParameter(D[0]):"<value>"}flagOperator(D){return" "}flagName(D){const{flag:e,flagFormatted:t,aliasesEnabled:r,aliasFormatted:o}=D;let n="";if(o?n+=`${o}, `:r&&(n+="    "),n+=t,"placeholder"in e&&typeof e.placeholder=="string")n+=`${this.flagOperator(D)}${e.placeholder}`;else{const a=this.flagParameter("type"in e?e.type:e);a&&(n+=`${this.flagOperator(D)}${a}`)}return n}flagDefault(D){return JSON.stringify(D)}flagDescription({flag:D}){let e="description"in D?D.description??"":"";if("default"in D){let{default:t}=D;typeof t=="function"&&(t=t()),t&&(e+=` (default: ${this.flagDefault(t)})`)}return e}render(D){if(typeof D=="string")return D;if(Array.isArray(D))return D.map(e=>this.render(e)).join(`
`);if("type"in D&&this[D.type]){const e=this[D.type];if(typeof e=="function")return e.call(this,D.data)}throw new Error(`Invalid node type: ${JSON.stringify(D)}`)}}const $D=i(u=>u.length>0&&!u.includes(" "),"y"),{stringify:S}=JSON,tr=/[|\\{}()[\]^$+*?.]/;function bu(u){const D=[];let e,t;for(const r of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${S(t)} must be last`);const o=r[0],n=r[r.length-1];let a;if(o==="<"&&n===">"&&(a=!0,e))throw new Error(`Invalid parameter: Required parameter ${S(r)} cannot come after optional parameter ${S(e)}`);if(o==="["&&n==="]"&&(a=!1,e=r),a===void 0)throw new Error(`Invalid parameter: ${S(r)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let s=r.slice(1,-1);const l=s.slice(-3)==="...";l&&(t=r,s=s.slice(0,-3));const F=s.match(tr);if(F)throw new Error(`Invalid parameter: ${S(r)}. Invalid character found ${S(F[0])}`);D.push({name:s,required:a,spread:l})}return D}i(bu,"w");function yu(u,D,e,t){for(let r=0;r<D.length;r+=1){const{name:o,required:n,spread:a}=D[r],s=Ut(o);if(s in u)throw new Error(`Invalid parameter: ${S(o)} is used more than once.`);const l=a?e.slice(r):e[r];if(a&&(r=D.length),n&&(!l||a&&l.length===0))return console.error(`Error: Missing required parameter ${S(o)}
`),t(),process.exit(1);u[s]=l}}i(yu,"b");function rr(u){return u===void 0||u!==!1}i(rr,"W");function OD(u,D,e,t){const r={...D.flags},o=D.version;o&&(r.version={type:Boolean,description:"Show version"});const{help:n}=D,a=rr(n);a&&!("help"in r)&&(r.help={type:Boolean,alias:"h",description:"Show help"});const s=nt(r,t,{ignore:D.ignoreArgv}),l=i(()=>{console.log(D.version)},"f");if(o&&s.flags.version===!0)return l(),process.exit(0);const F=new er,c=a&&n?.render?n.render:d=>F.render(d),C=i(d=>{const b=ur({...D,...d?{help:d}:{},flags:r});console.log(c(b,F))},"u");if(a&&s.flags.help===!0)return C(),process.exit(0);if(D.parameters){let{parameters:d}=D,b=s._;const w=d.indexOf("--"),p=d.slice(w+1),g=Object.create(null);if(w>-1&&p.length>0){d=d.slice(0,w);const h=s._["--"];b=b.slice(0,-h.length||void 0),yu(g,bu(d),b,C),yu(g,bu(p),h,C)}else yu(g,bu(d),b,C);Object.assign(s._,g)}const E={...s,showVersion:l,showHelp:C};return typeof e=="function"&&e(E),{command:u,...E}}i(OD,"x");function or(u,D){const e=new Map;for(const t of D){const r=[t.options.name],{alias:o}=t.options;o&&(Array.isArray(o)?r.push(...o):r.push(o));for(const n of r){if(e.has(n))throw new Error(`Duplicate command name found: ${S(n)}`);e.set(n,t)}}return e.get(u)}i(or,"z");function nr(u,D,e=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!$D(u.name)))throw new Error(`Invalid script name: ${S(u.name)}`);const t=e[0];if(u.commands&&t&&$D(t)){const r=or(t,u.commands);if(r)return OD(r.options.name,{...r.options,parent:u},r.callback,e.slice(1))}return OD(void 0,u,D,e)}i(nr,"Z");let RD={};const TD=new WeakMap,SD={metric:[{from:0,to:1e3,unit:"B",long:"bytes"},{from:1e3,to:1e6,unit:"kB",long:"kilobytes"},{from:1e6,to:1e9,unit:"MB",long:"megabytes"},{from:1e9,to:1e12,unit:"GB",long:"gigabytes"},{from:1e12,to:1e15,unit:"TB",long:"terabytes"},{from:1e15,to:1e18,unit:"PB",long:"petabytes"},{from:1e18,to:1e21,unit:"EB",long:"exabytes"},{from:1e21,to:1e24,unit:"ZB",long:"zettabytes"},{from:1e24,to:1e27,unit:"YB",long:"yottabytes"}],metric_octet:[{from:0,to:1e3,unit:"o",long:"octets"},{from:1e3,to:1e6,unit:"ko",long:"kilooctets"},{from:1e6,to:1e9,unit:"Mo",long:"megaoctets"},{from:1e9,to:1e12,unit:"Go",long:"gigaoctets"},{from:1e12,to:1e15,unit:"To",long:"teraoctets"},{from:1e15,to:1e18,unit:"Po",long:"petaoctets"},{from:1e18,to:1e21,unit:"Eo",long:"exaoctets"},{from:1e21,to:1e24,unit:"Zo",long:"zettaoctets"},{from:1e24,to:1e27,unit:"Yo",long:"yottaoctets"}],iec:[{from:0,to:Math.pow(1024,1),unit:"B",long:"bytes"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"KiB",long:"kibibytes"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"MiB",long:"mebibytes"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"GiB",long:"gibibytes"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"TiB",long:"tebibytes"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"PiB",long:"pebibytes"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"EiB",long:"exbibytes"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"ZiB",long:"zebibytes"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"YiB",long:"yobibytes"}],iec_octet:[{from:0,to:Math.pow(1024,1),unit:"o",long:"octets"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"Kio",long:"kibioctets"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"Mio",long:"mebioctets"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"Gio",long:"gibioctets"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"Tio",long:"tebioctets"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"Pio",long:"pebioctets"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"Eio",long:"exbioctets"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"Zio",long:"zebioctets"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"Yio",long:"yobioctets"}]};class ir{static{i(this,"ByteSize")}constructor(D,e){e=Object.assign({units:"metric",precision:1,locale:void 0},RD,e),TD.set(this,e),Object.assign(SD,e.customUnits);const t=D<0?"-":"";D=Math.abs(D);const r=SD[e.units];if(r){const o=r.find(n=>D>=n.from&&D<n.to);if(o){const n=new Intl.NumberFormat(e.locale,{style:"decimal",maximumFractionDigits:e.precision}),a=o.from===0?t+n.format(D):t+n.format(D/o.from);this.value=a,this.unit=o.unit,this.long=o.long}else this.value=t+D,this.unit="",this.long=""}else throw new Error(`Invalid units specified: ${e.units}`)}toString(){const D=TD.get(this);return D.toStringFn?D.toStringFn.bind(this)():`${this.value} ${this.unit}`}}function Au(u,D){return new ir(u,D)}i(Au,"byteSize"),Au.defaultOptions=function(u){RD=u};let N=!0;const G=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let z=0;if(G.process&&G.process.env&&G.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:D,NO_COLOR:e,TERM:t,COLORTERM:r}=G.process.env;D||e||u==="0"?N=!1:u==="1"||u==="2"||u==="3"?N=!0:t==="dumb"?N=!1:"CI"in G.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in G.process.env)?N=!0:N=process.stdout.isTTY,N&&(process.platform==="win32"||r&&(r==="truecolor"||r==="24bit")?z=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?z=2:z=1)}let kD={enabled:N,supportLevel:z};function vu(u,D,e=1){const t=`\x1B[${u}m`,r=`\x1B[${D}m`,o=new RegExp(`\\x1b\\[${D}m`,"g");return n=>kD.enabled&&kD.supportLevel>=e?t+(""+n).replace(o,t)+r:""+n}i(vu,"kolorist");const xD=vu(2,22),ar=vu(36,39),MD=vu(94,39),$u=globalThis.window?.document!==void 0;globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope;const ru=globalThis.navigator?.userAgentData?.platform;ru==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,ru==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,ru==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,ru==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;const _D="\x1B]",ID="\x07",ou=";";!$u&&O.env.TERM_PROGRAM,!$u&&O.platform,$u||O.cwd;const sr=i((u,D)=>[_D,"8",ou,ou,D,ID,u,_D,"8",ou,ou,ID].join(""),"link");function lr(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}i(lr,"getDefaultExportFromCjs");var Ou,LD;function jD(){return LD||(LD=1,Ou=i((u,D=process.argv)=>{const e=u.startsWith("-")?"":u.length===1?"-":"--",t=D.indexOf(e+u),r=D.indexOf("--");return t!==-1&&(r===-1||t<r)},"hasFlag")),Ou}i(jD,"requireHasFlag");var Ru,PD;function cr(){if(PD)return Ru;PD=1;const u=cu,D=Lu,e=jD(),{env:t}=process;let r;e("no-color")||e("no-colors")||e("color=false")||e("color=never")?r=0:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(r=1),"FORCE_COLOR"in t&&(t.FORCE_COLOR==="true"?r=1:t.FORCE_COLOR==="false"?r=0:r=t.FORCE_COLOR.length===0?1:Math.min(parseInt(t.FORCE_COLOR,10),3));function o(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}i(o,"translateLevel");function n(s,l){if(r===0)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(s&&!l&&r===void 0)return 0;const F=r||0;if(t.TERM==="dumb")return F;if(process.platform==="win32"){const c=u.release().split(".");return Number(c[0])>=10&&Number(c[2])>=10586?Number(c[2])>=14931?3:2:1}if("CI"in t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(c=>c in t)||t.CI_NAME==="codeship"?1:F;if("TEAMCITY_VERSION"in t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(t.TEAMCITY_VERSION)?1:0;if(t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in t){const c=parseInt((t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(t.TERM_PROGRAM){case"iTerm.app":return c>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(t.TERM)||"COLORTERM"in t?1:F}i(n,"supportsColor");function a(s){const l=n(s,s&&s.isTTY);return o(l)}return i(a,"getSupportLevel"),Ru={supportsColor:a,stdout:o(n(!0,D.isatty(1))),stderr:o(n(!0,D.isatty(2)))},Ru}i(cr,"requireSupportsColor");var Tu,ND;function Fr(){if(ND)return Tu;ND=1;const u=cr(),D=jD();function e(r){if(/^\d{3,4}$/.test(r)){const n=/(\d{1,2})(\d{2})/.exec(r)||[];return{major:0,minor:parseInt(n[1],10),patch:parseInt(n[2],10)}}const o=(r||"").split(".").map(n=>parseInt(n,10));return{major:o[0],minor:o[1],patch:o[2]}}i(e,"parseVersion");function t(r){const{CI:o,FORCE_HYPERLINK:n,NETLIFY:a,TEAMCITY_VERSION:s,TERM_PROGRAM:l,TERM_PROGRAM_VERSION:F,VTE_VERSION:c,TERM:C}=process.env;if(n)return!(n.length>0&&parseInt(n,10)===0);if(D("no-hyperlink")||D("no-hyperlinks")||D("hyperlink=false")||D("hyperlink=never"))return!1;if(D("hyperlink=true")||D("hyperlink=always")||a)return!0;if(!u.supportsColor(r)||r&&!r.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if(process.platform==="win32"||o||s)return!1;if(l){const E=e(F||"");switch(l){case"iTerm.app":return E.major===3?E.minor>=1:E.major>3;case"WezTerm":return E.major>=20200620;case"vscode":return E.major>1||E.major===1&&E.minor>=72;case"ghostty":return!0}}if(c){if(c==="0.50.0")return!1;const E=e(c);return E.major>0||E.minor>=50}switch(C){case"alacritty":return!0}return!1}return i(t,"supportsHyperlink"),Tu={supportsHyperlink:t,stdout:t(process.stdout),stderr:t(process.stderr)},Tu}i(Fr,"requireSupportsHyperlinks");var Cr=Fr(),Su=lr(Cr);function V(u,D,{target:e="stdout",...t}={}){return Su[e]?sr(u,D):t.fallback===!1?u:typeof t.fallback=="function"?t.fallback(u,D):`${u} (\u200B${D}\u200B)`}i(V,"terminalLink"),V.isSupported=Su.stdout,V.stderr=(u,D,e={})=>V(u,D,{target:"stderr",...e}),V.stderr.isSupported=Su.stderr;var Er="git-publish",pr="0.0.0-semantic-release",fr="Publish your npm package to a GitHub repository branch";const U=i(async(u,D,e)=>(await A(u,D,e)).stdout.trim(),"simpleSpawn"),WD=i(u=>U("git",["status","--porcelain","--untracked-files=no"],u),"gitStatusTracked"),dr=i(async()=>{if(await WD().catch(D=>{throw D.stderr.includes("not a git repository")?new Error("Not in a git repository."):D}))throw new Error("The working tree is not clean. Please commit or stash your changes before publishing.")},"assertCleanTree"),gr=i(async()=>{try{return await U("git",["branch","--show-current"])}catch(u){try{return await U("git",["describe","--tags"])}catch(D){throw new Error(`Failed to get current branch name: ${u.stderr} ${D.stderr}`)}}},"getCurrentBranchOrTagName"),GD=i(async u=>U("git",["rev-parse","--short","HEAD"],u).catch(()=>{}),"getCurrentCommit"),hr=i(async u=>{const D=await j.readFile(u,"utf8");try{return JSON.parse(D)}catch{throw new Error(`Failed to parse JSON file: ${u}`)}},"readJson"),UD=i(u=>u instanceof URL?Mu.fileURLToPath(u):u,"toPath");async function nu(u,{cwd:D=O.cwd(),type:e="file",stopAt:t}={}){let r=B.resolve(UD(D)??"");const{root:o}=B.parse(r);t=B.resolve(r,UD(t??o));const n=B.isAbsolute(u);for(;r;){const a=n?u:B.join(r,u);try{const s=await j.stat(a);if(e==="file"&&s.isFile()||e==="directory"&&s.isDirectory())return a}catch{}if(r===t||r===o)break;r=B.dirname(r)}}i(nu,"findUp");const mr=i(async(u,D)=>{const e={cwd:u,stopAt:D};return await nu("pnpm-lock.yaml",e)?"pnpm":await nu("yarn.lock",e)?"yarn":await nu("bun.lockb",e)||await nu("bun.lock",e)?"bun":"npm"},"detectPackageManager"),Br=i(async(u,D,e)=>{await j.mkdir(e,{recursive:!0}),await A(u,u==="bun"?["pm","pack","--destination",e]:["pack","--pack-destination",e],{cwd:D});const o=(await j.readdir(e)).find(n=>n.endsWith(".tgz"));if(!o)throw new Error("No tarball found after pack");return B.join(e,o)},"packPackage"),wr=i(async(u,D)=>{const e=[];return await _u.pipeline(JD.createReadStream(u),KD(),ZD.extract(D,{map:i(t=>(t.name.startsWith("package/")&&(t.name=t.name.slice(8)),t.type==="file"&&t.name&&e.push({file:t.name,size:t.size||0}),t),"map")})),e.sort((t,r)=>t.file<r.file?-1:t.file>r.file?1:0),e},"extractTarball"),{stringify:H}=JSON;(async()=>{const u=nr({name:Er,version:pr,flags:{branch:{type:String,alias:"b",placeholder:"<branch name>",description:'The branch to publish the package to. Defaults to prefixing "npm/" to the current branch or tag name.'},remote:{type:String,alias:"r",placeholder:"<remote>",description:"The remote to push to.",default:"origin"},fresh:{type:Boolean,alias:"o",description:"Publish without a commit history. Warning: Force-pushes to remote"},dry:{type:Boolean,alias:"d",description:"Dry run mode. Will not commit or push to the remote."},force:{type:Boolean,alias:"f",description:"Skip checks and force publish."}},help:{description:fr}});await dr();const D=process.cwd(),e=await U("git",["rev-parse","--show-toplevel"]),t=B.relative(e,D),r=await gr(),o=await GD(),n="package.json";try{await j.access(n)}catch{throw new Error("No package.json found in current working directory.")}const a=await hr(n);if(a.private&&!u.flags.force)throw new Error("This package is marked as private. Use --force to publish it anyway.");const{branch:s,remote:l,fresh:F,dry:c}=u.flags,C=s||(t?`npm/${r}-${a.name}`:`npm/${r}`);await We(`Publishing branch ${H(r)} \u2192 ${H(C)}`,async({task:E,setTitle:d,setStatus:b,setOutput:w})=>{c&&b("Dry run");const p=`git-publish-${Date.now()}-${process.pid}`,g=B.join(YD.tmpdir(),"git-publish",p),h=B.join(g,"worktree"),v=B.join(g,"pack");let $=!1,R;try{R=await U("git",["remote","get-url",l])}catch{throw new Error(`Git remote ${H(l)} does not exist`)}let J;const Z=await mr(D,e),_=await E("Creating worktree",async({setWarning:k})=>{if(c){k("");return}await A("git",["worktree","add","--force",h,"HEAD"])});c||_.clear();try{const k=await E("Checking out branch",async({setWarning:L})=>{if(c){L("");return}let T=!1;F?T=!0:T="exitCode"in await A("git",["fetch","--depth=1",l,`${C}:${p}`],{cwd:h}).catch(xu=>xu),T?await A("git",["checkout","--orphan",p],{cwd:h}):await A("git",["symbolic-ref","HEAD",`refs/heads/${p}`],{cwd:h}),await A("git",["rm","--cached","-r",":/"],{cwd:h}).catch(()=>{}),await A("git",["clean","-fdx"],{cwd:h})});c||k.clear();const I=await E("Packing package",async({setWarning:L})=>{if(c){L("");return}const T=await Br(Z,D,v);return await wr(T,h)});c||I.clear();const iu=await E("Commiting publish assets",async({setWarning:L})=>{if(c){L("");return}await A("git",["add","-A"],{cwd:h});const T=await I.result;if(!T||T.length===0)throw new Error("No publish files found");const ku=T.reduce((W,{size:su})=>W+su,0);if(console.log(MD(`Publishing ${a.name}`)),console.log(T.map(({file:W,size:su})=>`${W} ${xD(Au(su).toString())}`).join(`
`)),console.log(`
${MD("Total size")}`,Au(ku).toString()),(await WD({cwd:h})).length===0)console.warn("\u26A0\uFE0F  No new changes found to commit.");else{let W=`Published from "${r}"`;o&&(W+=` (${o})`),await A("git",["-c","user.name=git-publish","-c","user.email=bot@git-publish","commit","--no-verify","-m",W,"--author=git-publish <bot@git-publish>"],{cwd:h})}J=await GD({cwd:h})});c||iu.clear();const au=await E(`Pushing branch ${H(C)} to remote ${H(l)}`,async({setWarning:L})=>{if(c){L("");return}await A("git",["push",...F?["--force"]:[],"--no-verify",l,`HEAD:${C}`],{cwd:h}),$=!0});c||au.clear()}finally{(await E("Cleaning up",async({setWarning:I})=>{if(c){I("");return}await A("git",["worktree","remove","--force",h]),await A("git",["branch","-D",p]),await j.rm(g,{recursive:!0,force:!0})})).clear()}if($){const k=R.match(/github\.com:(.+)\.git$/);if(k){const[,I]=k,iu=V(`${ar(C)} ${xD(`(${J})`)}`,`https://github.com/${I}/tree/${C}`);d(`Successfully published branch: ${iu}`);const au=["Install command",`${Z} i '${I}#${C}'`].join(`
`);w(au)}}})})().catch(u=>{console.error("Error:",u.message),process.exit(1)});
